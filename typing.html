<!DOCTYPE html>
<html>
<head>
    <title>Typing Speed Tester</title>

    <style>
        body {
            font-family: Arial;
            background: #f4f6f9;
            text-align: center;
            padding: 40px;
        }

        .container {
            background: white;
            padding: 25px;
            border-radius: 10px;
            width: 60%;
            margin: auto;
            box-shadow: 0 0 10px #ccc;
        }

        textarea {
            width: 90%;
            height: 120px;
            margin-top: 15px;
            font-size: 16px;
            padding: 10px;
        }

        button {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            background: #007bff;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        #result {
            font-size: 18px;
            margin-top: 20px;
        }
    </style>
</head>

<body>

<div class="container">
    <h2>⌨️ Typing Speed Tester</h2>

    <p id="text"></p>

    <textarea id="input" placeholder="Start typing here..."></textarea>
    <br>

    <button onclick="endTest()">Finish</button>

    <p id="result"></p>
</div>

<script>
const quotes = [
    "Java programming is fun and powerful",
    "Practice coding every day to improve skills",
    "Consistency is the key to success",
    "Never stop learning new technologies",
    "Simple projects build strong confidence"
];

let startTime = null;
let currentQuote = "";

// Show random quote initially
function loadQuote() {
    currentQuote = quotes[Math.floor(Math.random()*quotes.length)];
    document.getElementById("text").innerText = currentQuote;
}

loadQuote();

// Auto-start timer on first typing
document.getElementById("input").addEventListener("input", function() {
    if (!startTime) {
        startTime = new Date().getTime();
    }
});

function endTest() {

    if (!startTime) {
        alert("Start typing first!");
        return;
    }

    let endTime = new Date().getTime();
    let timeTaken = (endTime - startTime) / 1000;

    let typedText = document.getElementById("input").value.trim();

    let words = typedText.split(/\s+/).length;
    let wpm = Math.round((words / timeTaken) * 60);

    let correctChars = 0;
    for (let i = 0; i < typedText.length; i++) {
        if (typedText[i] === currentQuote[i])
            correctChars++;
    }

    let accuracy =
        ((correctChars / currentQuote.length) * 100).toFixed(2);

    document.getElementById("result").innerHTML =
        `Time: ${timeTaken.toFixed(2)} sec <br>
         Speed: ${wpm} WPM <br>
         Accuracy: ${accuracy}%`;

    // Reset for next round
    startTime = null;
    document.getElementById("input").value = "";
    loadQuote();
}
</script>

</body>
</html>
